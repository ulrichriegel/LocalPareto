stat_function(fun = function(x) pLocalPareto(x, alpha.025), linewidth = 1) +
stat_function(fun = function(x) pPareto(x, t, 1), linewidth = 1.5, color = "gray") +
stat_function(fun = function(x) pPareto(x, t, 2), linewidth = 1.5, color = "gray")
t <- 1000
mu <- 0
sigma <- 2
LogNorm_local_alpha <- function(x) {
ifelse(x >= t,
x * dlnorm(x, meanlog = mu, sdlog = sigma) /
(1 - plnorm(x, meanlog = mu, sdlog = sigma)),
0)
}
alpha_0 <- LogNorm_local_alpha(t)
delta <- (LogNorm_local_alpha(t * exp(1)) - alpha_0) * log(2)
alpha <- function(x) ifelse(x >= t, alpha_0 + delta * log(x/t) / log(2), 0)
ggplot(data = data.frame(x = c(1, 10000)), aes(x = x)) +
stat_function(fun = function(x) LogNorm_local_alpha(x), linewidth = 5, color = "gray") +
stat_function(fun = function(x) alpha(x), linewidth = 1.5)
1 - (1 - plnorm((1:6) * 1000, mu, sigma)) / (1 - plnorm(t, mu, sigma))
pLocalPareto((1:6) * 1000, alpha)
pLALocPareto((1:6) * 1000, t, alpha_0, delta = delta)
t <- 1000
alpha <- function(x) ifelse(x>=t, 1 / 2  + 1 / 2 * sin(4 * (x - t) / t), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
beta <- function(x) 2 * alpha(x)
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
ppmod <- LocalPareto_2_PiecewisePareto(alpha)
max(losses)
ppmod$t[5000]
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t) / t) + x / 50000, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
beta <- function(x) 2 * alpha(x)
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(10000, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(10000, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
ppmod <- LocalPareto_2_PiecewisePareto(alpha)
ppmod
ppmod$t[5000]
ppmod$SF[5000]
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t) / t) + x / 20000, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
beta <- function(x) 2 * alpha(x)
losses <- rLocalPareto(10000, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)
2.521009e-05^.5
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)
0.002869312^.5
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^1.5 / t^1.5) + x / 20000, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^0.5 / t^0.5) + x / 20000, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^0.8 / t^0.8) + x / 20000, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^0.7 / t^0.7) + x / 20000, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
beta <- function(x) 2 * alpha(x)
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
ppmod <- LocalPareto_2_PiecewisePareto(alpha)
ppmod$t
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^0.7 / t^0.7) + 1 - (x / 100), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^0.7 / t^0.7) + 1 - (x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^0.7 / t^0.7) + 1 - (1000 / x), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^0.7 / t^0.7) + 1 - (1000 / x)^.2, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^0.7 / t^0.7) + 1 - (1000 / x)^.1, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000 / x)^0.2 * sin(4 * (x - t)^0.7 / t^0.7) + 1 - (1000 / x)^.1, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000 / x)^0.4 * sin(4 * (x - t)^0.7 / t^0.7) + 1 - (1000 / x)^.1, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000 / x)^0.3 * sin(4 * (x - t)^0.7 / t^0.7) + 1 - (1000 / x)^.1, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
beta <- function(x) 2 * alpha(x)
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
ppmod <- LocalPareto_2_PiecewisePareto(alpha)
ppmod$t
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000 / x)^0.3 * sin(4 * (x - t)^0.7 / t^0.7) + 2 - (1000 / x)^.1, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000 / x)^0.3 * sin(4 * (x - t)^0.7 / t^0.7) + 2 - (2000 / x)^.1, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000 / x)^0.3 * sin(4 * (x - t)^0.7 / t^0.7) + 2 - (2000 / x)^.01, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000 / x)^0.3 * sin(4 * (x - t)^0.7 / t^0.7) + 2 - (2000 / x)^..5, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000 / x)^0.3 * sin(4 * (x - t)^0.7 / t^0.7) + 2 - (2000 / x)^.5, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000 / x)^0.1 * sin(4 * (x - t)^0.7 / t^0.7) + 2 - (2000 / x)^.5, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 +  (1000 / x)^0.1 * sin(4 * (x - t)^0.7 / t^0.7) + 2 - (2000 / x)^.5, 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
beta <- function(x) 2 * alpha(x)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^.3 / t^.3), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^.3 / t^.3) +  log(x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^.1 / t^.1) +  log(x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^.8 / t^.8) +  log(x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * sin(4 * (x - t)^.8 / t^.8) +  .2 * log(x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000/x)^.2 * sin(4 * (x - t)^.8 / t^.8) +  .2 * log(x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000/x)^.4 * sin(4 * (x - t)^.8 / t^.8) +  .2 * log(x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000/x)^.4 * sin(4 * (x - t)^.8 / t^.8) +  .1 * log(x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
beta <- function(x) 2 * alpha(x)
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
ppmod <- LocalPareto_2_PiecewisePareto(alpha)
ppmod$t
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000/x)^.4 * sin(4 * (x - t)^.8 / t^.8) +  .2 * log(x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000/x)^.5 * sin(4 * (x - t)^.8 / t^.8) +  .2 * log(x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
beta <- function(x) 2 * alpha(x)
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
ppmod <- LocalPareto_2_PiecewisePareto(alpha)
ppmod$t
ppmod$t[2000]
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000/x)^.5 * sin(8 * (x - t)^.8 / t^.8) +  .2 * log(x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000/x)^.5 * sin(3 * (x - t)^.8 / t^.8) +  .2 * log(x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
beta <- function(x) 2 * alpha(x)
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
ppmod <- LocalPareto_2_PiecewisePareto(alpha)
ppmod$t
ppmod$alpha
ppmod$alpha[1800]
ppmod$alpha[1700:1800]
alpha <- function(x) ifelse(x>=t, 1 / 2 + 1 / 2 * (1000/x)^.5 * sin(3 * (x - t)^.8 / t^.8) +  .2 * log(x / 1000), 0)
LocalPareto_Layer_Mean(9000, 1000, alpha)
LocalPareto_Layer_Var(9000, 1000, alpha)
ggplot(data = data.frame(x = c(1, 20000)), aes(x = x)) +
stat_function(data = data.frame(x = c(1000, 20000)),
fun = function(x) alpha(x), linewidth = 1.5, n=1000, color = "gray") +
stat_function(fun = function(x) pLocalPareto(x, alpha), linewidth = 1.5)
beta <- function(x) 2 * alpha(x)
losses <- rLocalPareto(10000, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(10000, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(10000, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(10000, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(10000, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(10000, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
losses <- rLocalPareto(10000, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)
2.434173e-05^.5
losses <- rLocalPareto(100, alpha)
LocalPareto_ML_Estimator_alpha_0(losses, t, beta)$alpha_0_hat
ppmod <- LocalPareto_2_PiecewisePareto(alpha)
ppmod$t
ppmod$alpha[1700:1800]
devtools::install_github("ulrichriegel/LocalPareto")
devtools::install_github("ulrichriegel/LocalPareto")
devtools::install_github("ulrichriegel/LocalPareto")
devtools::test()
devtools::check()
devtools::check()
detach("package:Pareto", unload = TRUE)
detach("package:testthat", unload = TRUE)
devtools::check()
devtools::check()
use_gpl3_license()
devtools::check()
devtools::check()
devtools::check()
library(testthat)
devtools::check()
devtools::check()
usethis::use_build_ignore("tests/testthat.R"))
usethis::use_build_ignore("tests/testthat.R")
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::build_vignettes()
devtools::load_all(".")
devtools::load_all(".")
devtools::build_vignettes()
devtools::build()
install.packages("~/R/LocalPareto/LocalPareto_0.0.0.9000.tar.gz", repos = NULL, type = "source")
detach("package:LocalPareto", unload = TRUE)
install.packages("~/R/LocalPareto/LocalPareto_0.0.0.9000.tar.gz", repos = NULL, type = "source")
devtools::build()
install.packages("~/R/LocalPareto/LocalPareto_0.0.0.9000.tar.gz", repos = NULL, type = "source")
devtools::build()
install.packages("~/R/LocalPareto/LocalPareto_0.0.0.9000.tar.gz", repos = NULL, type = "source")
install.packages("rhub")
rhub::check_for_cran()
?rhubv2
library(rhub)
rhub_setup()
rhub::rhub_doctor()
usethis::create_github_token()
gitcreds::gitcreds_set()
gitcreds::gitcreds_set()
rhub::rhub_doctor()
rhub::rhub_check()
devtools::spell_check()
devtools::check()
devtools::check()
rhub::rhub_check()
alpha <- function(x) ifelse(x >= 1000, 2 - x / 1000, 0)
library(LocalPareto)
round(LocalPareto_Layer_Mean(8000, 2000, alpha), 4)
alpha <- function(x) ifelse(x >= 1000, 2 - 1000 / x, 0)
round(LocalPareto_Layer_Mean(8000, 2000, alpha), 4)
round(LocalPareto_Layer_Mean(8000, 2000, alpha, t), 1)
alpha <- function(x) ifelse(x >= 1000, 2 - 1000 / x, 0)
round(LocalPareto_Layer_Mean(8000, 2000, alpha, 1000), 1)
round(LocalPareto_Layer_Mean(8000, 2000, alpha, 2000), 1)
round(LocalPareto_Layer_Mean(8000, 2000, alpha), 1)
alpha <- function(x) ifelse(x >= 1000, 2 - 1000 / x, 0)
round(LocalPareto_Layer_Mean(8000, 2000, alpha), 1)
round(LocalPareto_Layer_Var(8000, 2000, alpha), 0)
round(LocalPareto_Layer_Var(8000, 2000, alpha, 2000),0)
alpha <- function(x) ifelse(x >= 1000, 2 - 1000 / x, 0)
round(LocalPareto_Layer_SM(8000, 2000, alpha), 0)
round(LocalPareto_Layer_SM(8000, 2000, alpha, 2000),0)
round(pLocalPareto((1:5) * 1000, alpha), 4)
round(pLocalPareto((1:5) * 1000, alpha, 2000), 4)
alpha <- function(x) ifelse(x >= 1000, 2 - 1000 / x, 0)
round(dLocalPareto((1:5) * 1000, alpha), 4)
round(dLocalPareto((1:5) * 1000, alpha), 6)
round(dLocalPareto((1:5) * 1000, alpha), 7)
dLocalPareto((1:5) * 1000, alpha, 2000), 7)
round(dLocalPareto((1:5) * 1000, alpha, 2000), 7)
alpha <- function(x) ifelse(x >= 1000, 2 - 1000 / x, 0)
round(dLocalPareto((0:5) * .2, alpha), 7)
round(qLocalPareto((0:5) * .2, alpha), 7)
alpha <- function(x) ifelse(x>=1000, 2-2000/x,0)
ppm <- LocalPareto_2_PiecewisePareto(alpha )
ppm
qPP((0:10) * 0.1, ppm)
devtools::load_all(".")
qPP((0:10) * 0.1, ppm)
devtools::load_all(".")
qPP((0:10) * 0.1, ppm)
devtools::load_all(".")
qPP((0:10) * 0.1, ppm)
library(Pareto)
qPiecewisePareto((0:10) * 0.1, ppm$t, ppm$alpha)
qPiecewisePareto((1:9) * 0.1, ppm$t, ppm$alpha)
devtools::load_all(".")
round(qLocalPareto((0:5) * .2, alpha), 7)
t <- (1:5) * 1000
alpha <- 1:5
SF <- 1 - pPiecewisePareto(t, t, alpha)
Parameters_PP <- list(t = t, alpha = alpha, SF = SF)
devtools::load_all(".")
devtools::load_all(".")
library(Pareto)
t <- (1:5) * 1000
alpha <- 1:5
SF <- 1 - pPiecewisePareto(t, t, alpha)
Parameters_PP <- list(t = t, alpha = alpha, SF = SF)
x <- (1:12) * 500
pPP(x, Parameters_PP)
pPiecewisePareto(x, Parameters_PP$t, Parameters_PP$alpha)
dPP(x, Parameters_PP)
dPiecewisePareto(x, Parameters_PP$t, Parameters_PP$alpha)
devtools::load_all(".")
library(Pareto)
t <- (1:5) * 1000
alpha <- 1:5
SF <- 1 - pPiecewisePareto(t, t, alpha)
Parameters_PP <- list(t = t, alpha = alpha, SF = SF)
x <- (1:12) * 500
pPP(x, Parameters_PP)
pPiecewisePareto(x, Parameters_PP$t, Parameters_PP$alpha)
dPP(x, Parameters_PP)
dPiecewisePareto(x, Parameters_PP$t, Parameters_PP$alpha)
round(dLocalPareto((1:12) * 500, alpha), 7)
alpha <- function(x) ifelse(x >= 1000, 2 - 1000 / x, 0)
round(dLocalPareto((1:12) * 500, alpha), 7)
paste0(round(dLocalPareto((1:12) * 500, alpha), 7), sep = ", ")
devtools::load_all(".")
alpha <- function(x) ifelse(x >= 1000, 2 - 1000 / x, 0)
round(dLocalPareto((4:12) * 500, alpha, 2000), 7)
library(Pareto)
t <- (1:5) * 1000
alpha <- 1:5
SF <- 1 - pPiecewisePareto(t, t, alpha)
Parameters_PP <- list(t = t, alpha = alpha, SF = SF)
x <- (1:12) * 500
pPP(x, Parameters_PP)
pPiecewisePareto(x, Parameters_PP$t, Parameters_PP$alpha)
dPP(x, Parameters_PP)
dPiecewisePareto(x, Parameters_PP$t, Parameters_PP$alpha)
alpha <- function(x) ifelse(x >= 1000, 2 - 1000 / x, 0)
round(qLocalPareto((0:5) * .2, alpha), 7)
round(qLocalPareto((0:5) * .2, alpha, 2000), 7)
devtools::load_all(".")
library(LocalPareto)
alpha <- function(x) ifelse(x>= 1000, 2 - 1000 / x, 0)
LocParDist <- LocalParetoDistribution(alpha)
LocParDist
library(LocalPareto)
alpha <- function(x) ifelse(x>= 1000, 2 - 1000 / x, 0)
LocParDist <- LocalParetoDistribution(alpha)
LocParDist
library(LocalPareto)
alpha <- function(x) ifelse(x>= 1000, 2 - 1000 / x, 0)
LocParDist <- LocalParetoDistribution(alpha)
LocParDist
devtools::load_all(".")
alpha <- function(x) ifelse(x >= 1000, 2 - 1000 / x, 0)
qLocalPareto((0:5) * .2, alpha)
qLocalPareto((0:5) * .2, alpha)
